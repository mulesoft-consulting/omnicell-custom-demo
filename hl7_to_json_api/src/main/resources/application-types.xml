<?xml version='1.0' encoding='UTF-8'?>
<types:mule xmlns:types="http://www.mulesoft.org/schema/mule/types">
  <types:catalog>
    <types:type name="inbound-json" format="json">
      <types:shape format="weave" example="examples/inbound.json"><![CDATA[%dw 2.0

type inbound_json = {|
  ProxyId: String, 
  ProxyVersion: String, 
  CustomerId: String, 
  SourceIp: String, 
  SourceName: String, 
  MessageId: String, 
  ProxyDttm: String, 
  MessageDispatched: String, 
  TimeZoneOffset: String, 
  MessageType: String, 
  InterfaceId: String, 
  EncodeType: String, 
  Message: String, 
  XmpErrors: Array<Any>, 
  XmpErrorsCount: String
|} {"example": "{\\\"ProxyId\\\":\\\"ee342b15-befb-4ee0-9003-ffe1bb32d331\\\",\\\"ProxyVersion\\\":\\\"1.0\\\",\\\"CustomerId\\\":\\\"EIMZPM\\\",\\\"SourceIp\\\":\\\"10.180.222.113\\\",\\\"SourceName\\\":\\\"VAPPEMMSERVER2\\\",\\\"MessageId\\\":\\\"EIMZPM-1234567890\\\",\\\"ProxyDttm\\\":\\\"2020-08-25T11:52:29.922-07:00\\\",\\\"MessageDispatched\\\":\\\"2020-08-25T18:52:29.922\\\",\\\"TimeZoneOffset\\\":\\\"-04:00:00\\\",\\\"MessageType\\\":\\\"HL7_STRING\\\",\\\"InterfaceId\\\":\\\"ZPM\\\",\\\"EncodeType\\\":\\\"None\\\",\\\"Message\\\":\\\"MSH|^~\\\\\\\\&|SIM|AB|HOSTAPP|GSH|20200824110619||ZPM|2020082411061900002|P|2.3|||||||rnZPM|V|console|RS1|003|03|90114|besifloxacin HCl 0.6 % 5.000 mL SUSPENSION, DROPS(FINAL DOSAGE FORM)(ML) OPHTHALMIC (EYE)|ItemClass|||1|TestUserID|TestLN,TestFN|witnessid|witnessname|0|17|FacCode|19|20|01|1|0|20200824110619|25|26|27|28|29|30|31|32|33|Infusion|35|36|37|1|39|40|41|42|43|1|0|46|47|0|49|20210812000000|\\\",\\\"XmpErrors\\\":[],\\\"XmpErrorsCount\\\":\\\"0\\\"}"}

]]></types:shape>
    </types:type>
    <types:type name="HL7-string" format="java">
      <types:shape format="raml"><![CDATA[#%RAML 1.0 DataType
type: string]]></types:shape>
    </types:type>
    <types:type name="outbound-json" format="json">
      <types:shape format="weave" example="examples/outbound.json"><![CDATA[%dw 2.0

type outbound_json = {|
  ProxyId: String, 
  ProxyVersion: String, 
  CustomerId: String, 
  SourceIp: String, 
  SourceName: String, 
  MessageId: String, 
  ProxyDttm: String, 
  MessageDispatched: String, 
  TimeZoneOffset: String, 
  MessageType: String, 
  InterfaceId: String, 
  EncodeType: String, 
  Message: String, 
  XmpErrors: Array<Any>, 
  XmpErrorsCount: String, 
  pocket_maintenance: {|
    transaction_code: String, 
    site_id: String, 
    stockarea_id: String, 
    drawer_number: String, 
    pocket_number: String, 
    item_id: String, 
    item_name: String, 
    item_class: String, 
    expected_bin_count: String, 
    actual_bin_count: String, 
    transaction_qty: String, 
    user_id: String, 
    user_name: String, 
    witness_id: String, 
    witness_name: String, 
    quantity_on_hand: String, 
    alternate_item_id: String, 
    facility_code: String, 
    alternate_item_id_2: String, 
    unit: String, 
    sub_drawer_number: String, 
    par_level: String, 
    reorder_point_level: String, 
    transaction_dttm: String, 
    lot_number: String, 
    serial_number: String, 
    expiration_date: String, 
    is_patient_transaction: String, 
    trade_identifier: String
  |}
|} {"example": "{\\\"ProxyId\\\":\\\"ee342b15-befb-4ee0-9003-ffe1bb32d331\\\",\\\"ProxyVersion\\\":\\\"1.0\\\",\\\"CustomerId\\\":\\\"EIMZPM\\\",\\\"SourceIp\\\":\\\"10.180.222.113\\\",\\\"SourceName\\\":\\\"VAPPEMMSERVER2\\\",\\\"MessageId\\\":\\\"EIMZPM-1234567890\\\",\\\"ProxyDttm\\\":\\\"2020-08-25T11:52:29.922-07:00\\\",\\\"MessageDispatched\\\":\\\"2020-08-25T18:52:29.922\\\",\\\"TimeZoneOffset\\\":\\\"-04:00:00\\\",\\\"MessageType\\\":\\\"HL7_STRING\\\",\\\"InterfaceId\\\":\\\"ZPM\\\",\\\"EncodeType\\\":\\\"None\\\",\\\"Message\\\":\\\"MSH|^~\\\\\\\\&|SIM|AB|HOSTAPP|GSH|20200824110619||ZPM|2020082411061900002|P|2.3|||||||rnZPM|V|console|RS1|003|03|90114|besifloxacin HCl 0.6 % 5.000 mL SUSPENSION, DROPS(FINAL DOSAGE FORM)(ML) OPHTHALMIC (EYE)|ItemClass|||1|TestUserID|TestLN,TestFN|witnessid|witnessname|0|17|FacCode|19|20|01|1|0|20200824110619|25|26|27|28|29|30|31|32|33|Infusion|35|36|37|1|39|40|41|42|43|1|0|46|47|0|49|20210812000000|\\\",\\\"XmpErrors\\\":[],\\\"XmpErrorsCount\\\":\\\"0\\\",\\\"pocket_maintenance\\\":{\\\"transaction_code\\\":\\\"BLAH\\\",\\\"site_id\\\":\\\"BLAH\\\",\\\"stockarea_id\\\":\\\"BLAH\\\",\\\"drawer_number\\\":\\\"BLAH\\\",\\\"pocket_number\\\":\\\"BLAH\\\",\\\"item_id\\\":\\\"BLAH\\\",\\\"item_name\\\":\\\"BLAH\\\",\\\"item_class\\\":\\\"BLAH\\\",\\\"expected_bin_count\\\":\\\"BLAH\\\",\\\"actual_bin_count\\\":\\\"BLAH\\\",\\\"transaction_qty\\\":\\\"BLAH\\\",\\\"user_id\\\":\\\"BLAH\\\",\\\"user_name\\\":\\\"BLAH\\\",\\\"witness_id\\\":\\\"BLAH\\\",\\\"witness_name\\\":\\\"BLAH\\\",\\\"quantity_on_hand\\\":\\\"BLAH\\\",\\\"alternate_item_id\\\":\\\"BLAH\\\",\\\"facility_code\\\":\\\"BLAH\\\",\\\"alternate_item_id_2\\\":\\\"BLAH\\\",\\\"unit\\\":\\\"BLAH\\\",\\\"sub_drawer_number\\\":\\\"BLAH\\\",\\\"par_level\\\":\\\"BLAH\\\",\\\"reorder_point_level\\\":\\\"BLAH\\\",\\\"transaction_dttm\\\":\\\"BLAH\\\",\\\"lot_number\\\":\\\"BLAH\\\",\\\"serial_number\\\":\\\"BLAH\\\",\\\"expiration_date\\\":\\\"BLAH\\\",\\\"is_patient_transaction\\\":\\\"BLAH\\\",\\\"trade_identifier\\\":\\\"BLAH\\\"}}"}

]]></types:shape>
    </types:type>
  </types:catalog>
  <types:enrichment select="#caf04d1a-7f6c-4dc5-bafa-8c529d1092cb">
    <types:processor-declaration>
      <types:output-event>
        <types:message>
          <types:payload type="outbound-json"/>
        </types:message>
      </types:output-event>
    </types:processor-declaration>
  </types:enrichment>
</types:mule>